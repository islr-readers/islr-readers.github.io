<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Linear Regression | ISLR Notes</title>
  <meta name="description" content="Chapter 3 Linear Regression | ISLR Notes" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Linear Regression | ISLR Notes" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Linear Regression | ISLR Notes" />
  
  
  

<meta name="author" content="TBD" />


<meta name="date" content="2021-01-01" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="statistical-learning.html"/>
<link rel="next" href="classification.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">ISLR Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#an-overview-of-statistical-learning"><i class="fa fa-check"></i><b>1.1</b> An Overview of Statistical Learning</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#data-sets"><i class="fa fa-check"></i><b>1.2</b> Data sets</a><ul>
<li class="chapter" data-level="1.2.1" data-path="intro.html"><a href="intro.html#wages"><i class="fa fa-check"></i><b>1.2.1</b> Wages</a></li>
<li class="chapter" data-level="1.2.2" data-path="intro.html"><a href="intro.html#stock-market-data"><i class="fa fa-check"></i><b>1.2.2</b> Stock Market Data</a></li>
<li class="chapter" data-level="1.2.3" data-path="intro.html"><a href="intro.html#gene-expression-data"><i class="fa fa-check"></i><b>1.2.3</b> Gene Expression Data</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#history"><i class="fa fa-check"></i><b>1.3</b> History</a></li>
<li class="chapter" data-level="1.4" data-path="intro.html"><a href="intro.html#other-considerations"><i class="fa fa-check"></i><b>1.4</b> Other Considerations</a></li>
<li class="chapter" data-level="1.5" data-path="intro.html"><a href="intro.html#matrix-notation"><i class="fa fa-check"></i><b>1.5</b> Matrix Notation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="statistical-learning.html"><a href="statistical-learning.html"><i class="fa fa-check"></i><b>2</b> Statistical Learning</a><ul>
<li class="chapter" data-level="2.1" data-path="statistical-learning.html"><a href="statistical-learning.html#what-is-statistical-learning"><i class="fa fa-check"></i><b>2.1</b> 2.1 What Is Statistical Learning?</a><ul>
<li class="chapter" data-level="2.1.1" data-path="statistical-learning.html"><a href="statistical-learning.html#why-estimate-f"><i class="fa fa-check"></i><b>2.1.1</b> 2.1.1 Why Estimate f?</a></li>
<li class="chapter" data-level="2.1.2" data-path="statistical-learning.html"><a href="statistical-learning.html#how-do-we-estimate-f"><i class="fa fa-check"></i><b>2.1.2</b> 2.1.2 How Do We Estimate <span class="math inline">\(f\)</span>?</a></li>
<li class="chapter" data-level="2.1.3" data-path="statistical-learning.html"><a href="statistical-learning.html#the-trade-off-between-prediction-accuracy-and-model-interpretability"><i class="fa fa-check"></i><b>2.1.3</b> 2.1.3 The Trade-Off Between Prediction Accuracy and Model Interpretability</a></li>
<li class="chapter" data-level="2.1.4" data-path="statistical-learning.html"><a href="statistical-learning.html#supervised-versus-unsupervised-learning"><i class="fa fa-check"></i><b>2.1.4</b> 2.1.4 Supervised Versus Unsupervised Learning</a></li>
<li class="chapter" data-level="2.1.5" data-path="statistical-learning.html"><a href="statistical-learning.html#regression-versus-classification-problems"><i class="fa fa-check"></i><b>2.1.5</b> 2.1.5 Regression Versus Classification Problems</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="statistical-learning.html"><a href="statistical-learning.html#assessing-model-accuracy"><i class="fa fa-check"></i><b>2.2</b> 2.2 Assessing Model Accuracy</a><ul>
<li class="chapter" data-level="2.2.1" data-path="statistical-learning.html"><a href="statistical-learning.html#measuring-the-quality-of-fit"><i class="fa fa-check"></i><b>2.2.1</b> 2.2.1 Measuring the Quality of Fit</a></li>
<li class="chapter" data-level="2.2.2" data-path="statistical-learning.html"><a href="statistical-learning.html#the-bias-variance-trade-off"><i class="fa fa-check"></i><b>2.2.2</b> 2.2.2 The Bias-Variance Trade-Off</a></li>
<li class="chapter" data-level="2.2.3" data-path="statistical-learning.html"><a href="statistical-learning.html#the-classification-setting"><i class="fa fa-check"></i><b>2.2.3</b> 2.2.3 The Classification Setting</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="statistical-learning.html"><a href="statistical-learning.html#lab-introduction-to-r"><i class="fa fa-check"></i><b>2.3</b> 2.3 Lab: Introduction to R</a><ul>
<li class="chapter" data-level="2.3.1" data-path="statistical-learning.html"><a href="statistical-learning.html#basic-commands"><i class="fa fa-check"></i><b>2.3.1</b> 2.3.1 Basic Commands</a></li>
<li class="chapter" data-level="2.3.2" data-path="statistical-learning.html"><a href="statistical-learning.html#graphics"><i class="fa fa-check"></i><b>2.3.2</b> 2.3.2 Graphics</a></li>
<li class="chapter" data-level="2.3.3" data-path="statistical-learning.html"><a href="statistical-learning.html#indexing-data"><i class="fa fa-check"></i><b>2.3.3</b> 2.3.3 Indexing Data</a></li>
<li class="chapter" data-level="2.3.4" data-path="statistical-learning.html"><a href="statistical-learning.html#loading-data"><i class="fa fa-check"></i><b>2.3.4</b> 2.3.4 Loading Data</a></li>
<li class="chapter" data-level="2.3.5" data-path="statistical-learning.html"><a href="statistical-learning.html#additional-graphical-and-numerical-summaries"><i class="fa fa-check"></i><b>2.3.5</b> 2.3.5 Additional Graphical and Numerical Summaries</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="statistical-learning.html"><a href="statistical-learning.html#exercises"><i class="fa fa-check"></i><b>2.4</b> 2.4 Exercises</a><ul>
<li class="chapter" data-level="2.4.1" data-path="statistical-learning.html"><a href="statistical-learning.html#conceptual"><i class="fa fa-check"></i><b>2.4.1</b> Conceptual</a></li>
<li class="chapter" data-level="2.4.2" data-path="statistical-learning.html"><a href="statistical-learning.html#applied"><i class="fa fa-check"></i><b>2.4.2</b> Applied</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>3</b> Linear Regression</a><ul>
<li class="chapter" data-level="3.1" data-path="linear-regression.html"><a href="linear-regression.html#simple-linear-regression"><i class="fa fa-check"></i><b>3.1</b> Simple linear regression</a><ul>
<li class="chapter" data-level="3.1.1" data-path="linear-regression.html"><a href="linear-regression.html#estimating-coefficients"><i class="fa fa-check"></i><b>3.1.1</b> Estimating Coefficients</a></li>
<li class="chapter" data-level="3.1.2" data-path="linear-regression.html"><a href="linear-regression.html#simulated-data-example"><i class="fa fa-check"></i><b>3.1.2</b> Simulated Data Example</a></li>
<li class="chapter" data-level="3.1.3" data-path="linear-regression.html"><a href="linear-regression.html#closed-form-solution"><i class="fa fa-check"></i><b>3.1.3</b> Closed-form solution</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="linear-regression.html"><a href="linear-regression.html#assessing-accuracy-of-coefficients"><i class="fa fa-check"></i><b>3.2</b> Assessing Accuracy of Coefficients</a></li>
<li class="chapter" data-level="3.3" data-path="linear-regression.html"><a href="linear-regression.html#assesing-the-accuracy-of-the-model"><i class="fa fa-check"></i><b>3.3</b> Assesing the Accuracy of the Model</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="classification.html"><a href="classification.html"><i class="fa fa-check"></i><b>4</b> Classification</a></li>
<li class="chapter" data-level="5" data-path="resampling-methods.html"><a href="resampling-methods.html"><i class="fa fa-check"></i><b>5</b> Resampling Methods</a></li>
<li class="chapter" data-level="6" data-path="model-selection-and-regularization.html"><a href="model-selection-and-regularization.html"><i class="fa fa-check"></i><b>6</b> Model Selection and Regularization</a></li>
<li class="chapter" data-level="7" data-path="moving-beyond-linearity.html"><a href="moving-beyond-linearity.html"><i class="fa fa-check"></i><b>7</b> Moving Beyond Linearity</a></li>
<li class="chapter" data-level="8" data-path="tree-based-methods.html"><a href="tree-based-methods.html"><i class="fa fa-check"></i><b>8</b> Tree Based Methods</a></li>
<li class="chapter" data-level="9" data-path="support-vector-machines.html"><a href="support-vector-machines.html"><i class="fa fa-check"></i><b>9</b> Support Vector Machines</a></li>
<li class="chapter" data-level="10" data-path="unsupervised-learning.html"><a href="unsupervised-learning.html"><i class="fa fa-check"></i><b>10</b> Unsupervised Learning</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">ISLR Notes</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="linear-regression" class="section level1">
<h1><span class="header-section-number">Chapter 3</span> Linear Regression</h1>
<p>What is linear regression?</p>
<ul>
<li>“a very simple approach for supervised learning”</li>
<li>“a useful tool for predicting a quantitative response”</li>
<li>widely used statistical learning method</li>
<li>a special case of more generalized learning methods</li>
<li>Useful for answering many different types of questions</li>
</ul>
<p>Advantages</p>
<ol style="list-style-type: decimal">
<li>Simplicity
<ul>
<li>Conceptual: based on averages (or “expectations” in econometrics)</li>
<li>Procedural: there are closed form solutions for estimating parameters</li>
</ul></li>
<li>Interpretable
<ul>
<li>There are meaningful visualizations and interpretations of model results</li>
<li>It is possible to address many types of questions, and apply statistical tests to judge results including:
<ol style="list-style-type: decimal">
<li>Is there a relationship between predictors and response variables?</li>
<li>How strong is the relationship?</li>
<li>Which predictors are related to the response?</li>
<li>How accurate are the estimated model parameters?</li>
<li>How accurate are the predictions generated by the model?</li>
<li>Is the model a good fit?</li>
<li>Are there interactions among the predictors?</li>
</ol></li>
</ul></li>
</ol>
<div id="simple-linear-regression" class="section level2">
<h2><span class="header-section-number">3.1</span> Simple linear regression</h2>
<p><em>Simple</em> linear regression predicts a quantitative response <span class="math inline">\(y\)</span> on the basis of a <em>single</em> predictor, <span class="math inline">\(x\)</span>, assuming that there is a linear relationship between <span class="math inline">\(y\)</span> and <span class="math inline">\(x\)</span> in the form:</p>
<p><span class="math display">\[
\begin{array}{rcl}
y &amp;=&amp; \beta_0 + \beta_{1}x + \epsilon \\
&amp;\textrm{or}&amp; \\
y &amp;\approx&amp; \beta_0 + \beta_{1}x 
\end{array}
\]</span></p>
<p>Read as: “regressing <span class="math inline">\(y\)</span> on <span class="math inline">\(x\)</span>”, “regressing <span class="math inline">\(y\)</span> onto <span class="math inline">\(x\)</span>”, or “<span class="math inline">\(y\)</span> is approximately modeled as a linear function of <span class="math inline">\(x\)</span>”</p>
<p>This equation describes the <em>population regression line</em>: the best linear approximation of the true relationship between <span class="math inline">\(y\)</span> and <span class="math inline">\(x\)</span>. The model parameters (or coefficients), <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>, are unknown constants and the error term, <span class="math inline">\(\epsilon\)</span>, is not measurable in practice.</p>
<ul>
<li><span class="math inline">\(y\)</span>: the observed true value of <span class="math inline">\(y\)</span></li>
<li><span class="math inline">\(\beta_0\)</span>: the intercept, or the expected value of <span class="math inline">\(y\)</span>, when <span class="math inline">\(x\)</span> is 0</li>
<li><span class="math inline">\(\beta_1\)</span>: the slope, or the expected change in <span class="math inline">\(y\)</span> per unit change in <span class="math inline">\(x\)</span>, or <span class="math inline">\(\frac{\Delta y}{\Delta x}\)</span></li>
<li><span class="math inline">\(\epsilon\)</span>: irreducible error, or variation in <span class="math inline">\(y\)</span> that can not be accounted for by the model</li>
</ul>
<div id="estimating-coefficients" class="section level3">
<h3><span class="header-section-number">3.1.1</span> Estimating Coefficients</h3>
<p>In practice <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> are unknown constants that must be estimated based on available data using some procedure.</p>
<ul>
<li>Each <span class="math inline">\((x_i, y_i)\)</span> pair represents an example observation drawn from the population of possibilities for the joint distribution of <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>.</li>
<li>Based on many (<span class="math inline">\(n\)</span>) examples, develop estimates for <span class="math inline">\(\hat{\beta}_0\)</span> and <span class="math inline">\(\hat{\beta}_1\)</span>.</li>
<li>Then compute <span class="math inline">\(\hat{y}_i\)</span>, which is the value for <span class="math inline">\(y_i\)</span> predicted by the model based on <span class="math inline">\(x_i\)</span> (where <span class="math inline">\(i \in \{1 \ldots n\}\)</span>).</li>
</ul>
<p><span class="math display">\[ \hat{y}_i \approx \hat{\beta}_0 + \hat{\beta}_1 x_i \]</span></p>
<p>The prediction is an approximation is unlikely to be exactly equal to the actual value. The difference is called the residual. For a particular example observation, <span class="math inline">\(i\)</span>, the residual is computed as:</p>
<p><span class="math display">\[ e_i = y_i - \hat{y}_i \]</span></p>
<p>Better estimates of the parameters <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> will yield better predictions for <span class="math inline">\(y\)</span> and, therefore, smaller residuals. The residual sum pf squares (RSS) is a measure of the overall magnitude of the prediction error for a particular set of coefficients and training data. The lower the RSS, the better the estimates should be (assuming the model is correctly specified, etc.).</p>
<p><span class="math display">\[ \begin{array}{rcl} RSS &amp;=&amp; \sum_{i}^{n} e_{i}^{2} \\ &amp;=&amp; \sum_{i}^{n} (y_i -\hat{y}_i)^2 \\ &amp;=&amp; \sum_{i}^{n} (y_i - \hat{\beta}_0 + \hat{\beta}_1 x_i)^2 \end{array} \]</span></p>
<p>Minimizing the RSS is accomplished by choosing appropriate values for <span class="math inline">\(\hat{\beta}_0\)</span> and <span class="math inline">\(\hat{\beta}_1\)</span>, which are estimates for the true (but unknown) population parameters, <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span>. This method is referred to as the <em>least squares</em> approach in the text.</p>
</div>
<div id="simulated-data-example" class="section level3">
<h3><span class="header-section-number">3.1.2</span> Simulated Data Example</h3>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb89-1" title="1"><span class="kw">set.seed</span>(<span class="dv">20210707</span>)</a></code></pre></div>
<ul>
<li>model: <span class="math inline">\(y = \beta_0 + \beta_1 x + \epsilon\)</span></li>
<li>parameters: <span class="math inline">\(\beta_0\)</span> = 2 and <span class="math inline">\(\beta_1\)</span> = 3.</li>
</ul>
<p>Simulate drawing a sample from the population by generating data</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb90-1" title="1"><span class="co"># Number of observations</span></a>
<a class="sourceLine" id="cb90-2" title="2">n &lt;-<span class="st"> </span><span class="dv">100</span></a>
<a class="sourceLine" id="cb90-3" title="3"></a>
<a class="sourceLine" id="cb90-4" title="4"><span class="co"># random variable x</span></a>
<a class="sourceLine" id="cb90-5" title="5">x &lt;-<span class="st"> </span><span class="kw">runif</span>(n)</a>
<a class="sourceLine" id="cb90-6" title="6"></a>
<a class="sourceLine" id="cb90-7" title="7"><span class="co"># True slope and intercept of line</span></a>
<a class="sourceLine" id="cb90-8" title="8">beta &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb90-9" title="9"></a>
<a class="sourceLine" id="cb90-10" title="10"><span class="co"># irreducible error</span></a>
<a class="sourceLine" id="cb90-11" title="11">epsilon &lt;-<span class="st"> </span><span class="kw">rnorm</span>(n)</a>
<a class="sourceLine" id="cb90-12" title="12"></a>
<a class="sourceLine" id="cb90-13" title="13"><span class="co"># True value of y</span></a>
<a class="sourceLine" id="cb90-14" title="14">y &lt;-<span class="st"> </span>beta[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>beta[<span class="dv">2</span>] <span class="op">*</span><span class="st"> </span>x <span class="op">+</span><span class="st"> </span>epsilon</a></code></pre></div>
<p>First few rows of the simulated data sample</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb91-1" title="1"><span class="kw">tibble</span>(y, x, epsilon) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-2" title="2"><span class="st">    </span><span class="kw">head</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb91-3" title="3"><span class="st">    </span><span class="kw">kable</span>(<span class="dt">booktabs =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">y</th>
<th align="right">x</th>
<th align="right">epsilon</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">4.299174</td>
<td align="right">0.8543299</td>
<td align="right">-0.2638157</td>
</tr>
<tr class="even">
<td align="right">1.188886</td>
<td align="right">0.1168752</td>
<td align="right">-1.1617401</td>
</tr>
<tr class="odd">
<td align="right">5.271001</td>
<td align="right">0.6867674</td>
<td align="right">1.2106981</td>
</tr>
<tr class="even">
<td align="right">3.357570</td>
<td align="right">0.0163384</td>
<td align="right">1.3085549</td>
</tr>
<tr class="odd">
<td align="right">2.984540</td>
<td align="right">0.3480136</td>
<td align="right">-0.0595011</td>
</tr>
<tr class="even">
<td align="right">4.802275</td>
<td align="right">0.6009924</td>
<td align="right">0.9992976</td>
</tr>
</tbody>
</table>
<p>Minimize RSS to compute least squares estimates for <span class="math inline">\(\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta_1}\)</span></p>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb92-1" title="1"><span class="co"># residual sum of squares formula</span></a>
<a class="sourceLine" id="cb92-2" title="2">rss &lt;-<span class="st"> </span><span class="cf">function</span>(...) {</a>
<a class="sourceLine" id="cb92-3" title="3">    beta &lt;-<span class="st"> </span><span class="kw">c</span>(...)</a>
<a class="sourceLine" id="cb92-4" title="4">    <span class="kw">sum</span>((y <span class="op">-</span><span class="st"> </span>(beta[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>beta[<span class="dv">2</span>] <span class="op">*</span><span class="st"> </span>x))<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb92-5" title="5">}</a></code></pre></div>
<p>Try guessing the parameters that will minimize RSS for the sample</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb93-1" title="1"><span class="kw">rss</span>(<span class="dv">0</span>, <span class="dv">1</span>)</a>
<a class="sourceLine" id="cb93-2" title="2"><span class="kw">rss</span>(<span class="dv">1</span>, <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb93-3" title="3"><span class="kw">rss</span>(<span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb93-4" title="4"><span class="kw">rss</span>(<span class="fl">1.8</span>, <span class="fl">3.3</span>)</a></code></pre></div>
<div class="sourceCode" id="cb94"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb94-1" title="1"><span class="kw">tibble</span>(<span class="dt">beta_0 =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="fl">1.8</span>), <span class="dt">beta_1 =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="fl">3.3</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-2" title="2"><span class="st">    </span><span class="kw">group_by</span>(beta_<span class="dv">0</span>, beta_<span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-3" title="3"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">RSS =</span> <span class="kw">rss</span>(beta_<span class="dv">0</span>, beta_<span class="dv">1</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-4" title="4"><span class="st">    </span><span class="kw">ungroup</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb94-5" title="5"><span class="st">    </span><span class="kw">kable</span>()</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">beta_0</th>
<th align="right">beta_1</th>
<th align="right">RSS</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0.0</td>
<td align="right">1.0</td>
<td align="right">1094.7367</td>
</tr>
<tr class="even">
<td align="right">1.0</td>
<td align="right">2.0</td>
<td align="right">363.2831</td>
</tr>
<tr class="odd">
<td align="right">2.0</td>
<td align="right">3.0</td>
<td align="right">102.3890</td>
</tr>
<tr class="even">
<td align="right">1.8</td>
<td align="right">3.3</td>
<td align="right">101.1695</td>
</tr>
</tbody>
</table>
<p>Surprisingly (perhaps) using <span class="math inline">\(\hat{\beta_0}\)</span> = 2 and <span class="math inline">\(\hat{\beta_1}\)</span> = 3 does not yield the lowest RSS for the sample data even though these are the exact parameters <span class="math inline">\(\beta_0\)</span> and <span class="math inline">\(\beta_1\)</span> used to generate the sample observations. This is because irreducible error component is not observed and our sample size is limited.</p>
<p>Instead of guessing we can use R to automatically choose beta to minimize RSS. The <code>optim()</code> can do this.</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb95-1" title="1">fit &lt;-<span class="st"> </span><span class="kw">optim</span>(<span class="dt">par =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>), <span class="dt">fn =</span> rss)</a>
<a class="sourceLine" id="cb95-2" title="2">fit<span class="op">$</span>par</a></code></pre></div>
<pre><code>## [1] 1.778687 3.545284</code></pre>
</div>
<div id="closed-form-solution" class="section level3">
<h3><span class="header-section-number">3.1.3</span> Closed-form solution</h3>
<p>Applying some algebra and calculus to the RSS formula yields the following <em>exact</em> solutions for estimating <span class="math inline">\(\hat{\beta_0}\)</span> and <span class="math inline">\(\hat{\beta_1}\)</span> that will minimize RSS</p>
<p><span class="math display">\[
\begin{array}{rcl} 
\hat{\beta_1} &amp; = &amp; \frac{\sum_{i=1}^{n} (x_i - \bar{x})(y_i - \bar(y)) }{ \sum_{i=1}^{n} (x_i - \bar{x})^2 } \\
\hat{\beta_0} &amp; = &amp; \bar{y} - \hat{\beta_1}\bar{x} \\
\end{array}
\]</span></p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb97-1" title="1">b1 &lt;-<span class="st"> </span><span class="kw">sum</span>((x <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x)) <span class="op">*</span><span class="st"> </span>(y <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(y))) <span class="op">/</span><span class="st"> </span><span class="kw">sum</span>((x <span class="op">-</span><span class="st"> </span><span class="kw">mean</span>(x))<span class="op">^</span><span class="dv">2</span>)</a>
<a class="sourceLine" id="cb97-2" title="2">b1</a></code></pre></div>
<pre><code>## [1] 3.544119</code></pre>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb99-1" title="1">b0 &lt;-<span class="st"> </span><span class="kw">mean</span>(y) <span class="op">-</span><span class="st"> </span>(b1 <span class="op">*</span><span class="st"> </span><span class="kw">mean</span>(x))</a>
<a class="sourceLine" id="cb99-2" title="2">b0</a></code></pre></div>
<pre><code>## [1] 1.779281</code></pre>
<p>Estimated model using least squares method:</p>
<p><span class="math inline">\(\hat{y}\)</span> = 1.78 + 3.54 <span class="math inline">\(x\)</span></p>
<p>We can also use the <code>lm()</code> function to estimate the parameters</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb101-1" title="1"><span class="kw">lm</span>(y <span class="op">~</span><span class="st"> </span>x)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = y ~ x)
## 
## Coefficients:
## (Intercept)            x  
##       1.779        3.544</code></pre>
</div>
</div>
<div id="assessing-accuracy-of-coefficients" class="section level2">
<h2><span class="header-section-number">3.2</span> Assessing Accuracy of Coefficients</h2>
<p>The goal is to estimate pthe arameters of the actual population regression function based on a sample</p>
<p>Since we have estimated our parameters based on a sample, there is likely to be some error.</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb103-1" title="1">simulate_data &lt;-<span class="st"> </span><span class="cf">function</span>(<span class="dt">beta =</span> <span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>), <span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">sd =</span> <span class="dv">1</span>) {</a>
<a class="sourceLine" id="cb103-2" title="2">    <span class="co"># column dimension</span></a>
<a class="sourceLine" id="cb103-3" title="3">    m &lt;-<span class="st"> </span><span class="kw">length</span>(beta)</a>
<a class="sourceLine" id="cb103-4" title="4">    </a>
<a class="sourceLine" id="cb103-5" title="5">    <span class="co"># Population parameters</span></a>
<a class="sourceLine" id="cb103-6" title="6">    beta &lt;-<span class="st"> </span><span class="kw">matrix</span>(beta, <span class="dt">nrow =</span> <span class="dv">1</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="ot">NULL</span>, <span class="kw">paste0</span>(<span class="st">&quot;beta_&quot;</span>, <span class="kw">seq_along</span>(beta)<span class="op">-</span><span class="dv">1</span>)))</a>
<a class="sourceLine" id="cb103-7" title="7">    </a>
<a class="sourceLine" id="cb103-8" title="8">    <span class="co"># Sample Data</span></a>
<a class="sourceLine" id="cb103-9" title="9">    X &lt;-<span class="st"> </span><span class="kw">matrix</span>(</a>
<a class="sourceLine" id="cb103-10" title="10">        <span class="dt">data =</span> <span class="kw">c</span>(<span class="kw">rep</span>(<span class="dv">1</span>, n),                    <span class="co"># Assign a constant term for x_0 </span></a>
<a class="sourceLine" id="cb103-11" title="11">                 <span class="kw">rnorm</span>((m<span class="dv">-1</span>) <span class="op">*</span><span class="st"> </span>n, <span class="dt">sd =</span> sd)),   <span class="co"># random normals for remaining x</span></a>
<a class="sourceLine" id="cb103-12" title="12">        <span class="dt">ncol =</span> m, <span class="dt">nrow =</span> n,</a>
<a class="sourceLine" id="cb103-13" title="13">        <span class="dt">byrow =</span> <span class="ot">FALSE</span>,</a>
<a class="sourceLine" id="cb103-14" title="14">        <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="ot">NULL</span>, <span class="kw">paste0</span>(<span class="st">&quot;x_&quot;</span>, <span class="kw">seq_along</span>(beta)<span class="op">-</span><span class="dv">1</span>))</a>
<a class="sourceLine" id="cb103-15" title="15">    )</a>
<a class="sourceLine" id="cb103-16" title="16"></a>
<a class="sourceLine" id="cb103-17" title="17">    <span class="co"># Irreducible error </span></a>
<a class="sourceLine" id="cb103-18" title="18">    e &lt;-<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">rnorm</span>(n, <span class="dt">sd =</span> sd), <span class="dt">ncol =</span> <span class="dv">1</span>, <span class="dt">dimnames =</span> <span class="kw">list</span>(<span class="ot">NULL</span>, <span class="st">&quot;e&quot;</span>))</a>
<a class="sourceLine" id="cb103-19" title="19">    </a>
<a class="sourceLine" id="cb103-20" title="20">    <span class="co"># Compute y</span></a>
<a class="sourceLine" id="cb103-21" title="21">    y &lt;-<span class="st"> </span>X <span class="op">%*%</span><span class="st"> </span><span class="kw">t</span>(beta) <span class="op">+</span><span class="st"> </span>e</a>
<a class="sourceLine" id="cb103-22" title="22">    <span class="kw">colnames</span>(y) &lt;-<span class="st"> &quot;y&quot;</span></a>
<a class="sourceLine" id="cb103-23" title="23"></a>
<a class="sourceLine" id="cb103-24" title="24">    <span class="co"># Return a data frame, drop the constant</span></a>
<a class="sourceLine" id="cb103-25" title="25">    <span class="kw">data.frame</span>(<span class="kw">cbind</span>(y, X, e))[, <span class="dv">-2</span>]</a>
<a class="sourceLine" id="cb103-26" title="26">}</a>
<a class="sourceLine" id="cb103-27" title="27"></a>
<a class="sourceLine" id="cb103-28" title="28"><span class="co">#test &lt;- simulate_data(beta = c(2, 3), n = 1000)</span></a>
<a class="sourceLine" id="cb103-29" title="29"><span class="co">#test</span></a></code></pre></div>
<p>Here is a plot of linear function with the parameters we estimated, compared with the population regression function.</p>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb104-1" title="1"><span class="co"># Replicate Figure 3.3</span></a>
<a class="sourceLine" id="cb104-2" title="2"></a>
<a class="sourceLine" id="cb104-3" title="3"><span class="co"># Generate 1 sample and plot</span></a>
<a class="sourceLine" id="cb104-4" title="4"><span class="kw">simulate_data</span>(<span class="dt">beta =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">sd =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb104-5" title="5"><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x_<span class="dv">1</span>, <span class="dt">y =</span> y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-6" title="6"><span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">3</span>, <span class="dt">intercept =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-7" title="7"><span class="st">    </span><span class="kw">geom_point</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb104-8" title="8"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>, <span class="dt">size =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-9" title="9"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-10" title="10"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb104-11" title="11"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Population Regression Line and Estimated Regression Line&quot;</span>)</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 44 rows containing non-finite values (stat_smooth).</code></pre>
<pre><code>## Warning: Removed 44 rows containing missing values (geom_point).</code></pre>
<p><img src="islr_notes_files/figure-html/fig3.3-1.png" width="672" /></p>
<p>Resampling several times, we find that we end up with several estimated functions (sets of parameters)</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb108-1" title="1"><span class="co"># Generate 10 samples and plot</span></a>
<a class="sourceLine" id="cb108-2" title="2"><span class="kw">map_df</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="op">~</span><span class="st"> </span><span class="kw">simulate_data</span>(<span class="dt">beta =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">n =</span> <span class="dv">100</span>, <span class="dt">sd =</span> <span class="dv">3</span>), <span class="dt">.id =</span> <span class="st">&quot;sample&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb108-3" title="3"><span class="st">    </span><span class="kw">mutate</span>(<span class="dt">sample =</span> <span class="kw">as.factor</span>(<span class="kw">as.numeric</span>(sample))) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb108-4" title="4"><span class="kw">ggplot</span>(<span class="dt">mapping =</span> <span class="kw">aes</span>(<span class="dt">x =</span> x_<span class="dv">1</span>, <span class="dt">y =</span> y, <span class="dt">color =</span> sample)) <span class="op">+</span></a>
<a class="sourceLine" id="cb108-5" title="5"><span class="st">    </span><span class="kw">geom_abline</span>(<span class="dt">slope =</span> <span class="dv">3</span>, <span class="dt">intercept =</span> <span class="dv">2</span>, <span class="dt">color =</span> <span class="st">&quot;red&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb108-6" title="6"><span class="st">    </span><span class="kw">geom_smooth</span>(<span class="dt">method =</span> <span class="st">&quot;lm&quot;</span>, <span class="dt">se =</span> <span class="ot">FALSE</span>, <span class="dt">size =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb108-7" title="7"><span class="st">    </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb108-8" title="8"><span class="st">    </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits =</span> <span class="kw">c</span>(<span class="op">-</span><span class="dv">10</span>, <span class="dv">10</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb108-9" title="9"><span class="st">    </span><span class="kw">labs</span>(<span class="dt">title =</span> <span class="st">&quot;Regression lines for 10 simulated datasets&quot;</span>)</a></code></pre></div>
<pre><code>## `geom_smooth()` using formula &#39;y ~ x&#39;</code></pre>
<pre><code>## Warning: Removed 549 rows containing non-finite values (stat_smooth).</code></pre>
<p><img src="islr_notes_files/figure-html/unnamed-chunk-62-1.png" width="672" /></p>
<p>How can we assess accuracy? Statisics!</p>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb111-1" title="1"><span class="kw">pmap_dfr</span>(</a>
<a class="sourceLine" id="cb111-2" title="2">    <span class="kw">expand.grid</span>(<span class="dt">n =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="dt">k =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="dt">N =</span> <span class="dv">10000</span>, <span class="dt">mean =</span> <span class="dv">0</span>), </a>
<a class="sourceLine" id="cb111-3" title="3">    generate_sample_means</a>
<a class="sourceLine" id="cb111-4" title="4">) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb111-5" title="5"><span class="st">    </span><span class="kw">law_of_large_n_gridplot_dots</span>() </a></code></pre></div>
<p><img src="islr_notes_files/figure-html/unnamed-chunk-64-1.png" width="672" /></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb112-1" title="1"><span class="kw">pmap_dfr</span>(</a>
<a class="sourceLine" id="cb112-2" title="2">    <span class="kw">expand.grid</span>(<span class="dt">n =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="dt">k =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="dt">N =</span> <span class="dv">10000</span>, <span class="dt">mean =</span> <span class="dv">0</span>), </a>
<a class="sourceLine" id="cb112-3" title="3">    generate_sample_means</a>
<a class="sourceLine" id="cb112-4" title="4">) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb112-5" title="5"><span class="st">    </span><span class="kw">law_of_large_n_gridplot_density</span>()</a></code></pre></div>
<p><img src="islr_notes_files/figure-html/unnamed-chunk-65-1.png" width="672" /></p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb113-1" title="1"><span class="kw">pmap_dfr</span>(</a>
<a class="sourceLine" id="cb113-2" title="2">    <span class="kw">expand.grid</span>(<span class="dt">n =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="dt">k =</span> <span class="kw">c</span>(<span class="dv">10</span>, <span class="dv">50</span>, <span class="dv">100</span>), <span class="dt">N =</span> <span class="dv">10000</span>, <span class="dt">mean =</span> <span class="dv">0</span>), </a>
<a class="sourceLine" id="cb113-3" title="3">    generate_sample_means</a>
<a class="sourceLine" id="cb113-4" title="4">) <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb113-5" title="5"><span class="st">    </span><span class="kw">law_of_large_n_gridplot</span>()</a></code></pre></div>
<p><img src="islr_notes_files/figure-html/unnamed-chunk-66-1.png" width="672" /></p>
</div>
<div id="assesing-the-accuracy-of-the-model" class="section level2">
<h2><span class="header-section-number">3.3</span> Assesing the Accuracy of the Model</h2>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="statistical-learning.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="classification.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["islr_notes.pdf", "islr_notes.epub"],
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
